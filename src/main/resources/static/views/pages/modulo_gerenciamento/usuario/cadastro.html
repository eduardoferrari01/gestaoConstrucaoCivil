<meta charset="UTF-8">
<br>
<br>
<div class="generic-container"	ng-controller="usuarioController as userCtrl" >
				
	<div class="box box-primary">
		<!-- Default panel contents -->
		<div class="box-header">
			<span class="lead"> Cadastro Usuario </span>
		</div>
		<div class="panel-body">

			<br>
			<div class="container col-sm-12 ">
				<form role="form-vertical"	ng-submit="userCtrl.salva()">

					
					<div class="row" ng-controller="empreendimentoController as empCtrl">
						<div class="col-sm-6" ng-init="empCtrl.lista()">
							<select class="form-control select2" ng-model="userCtrl.usuario.empreendimento" 
								ng-options="listarEmpreendimentos.descricao group by listarEmpreendimentos.tipoEmpreendimento for listarEmpreendimentos in empreendimentos"
								style="width: 100%;" required>
								<option  value="">--selecione o Empreendimento--</option>
							</select>
						</div>												
						<div class="col-sm-6"  ng-controller="cadastrarFuncionarioController as funCtrl" ng-init="funCtrl.lista()">
						<md-autocomplete 
							  md-no-cache="funCtrl.noCache"
							 	md-selected-item="userCtrl.usuario.funcionario" 
							 	md-search-text="busca" 
							 	md-selected-item-change="funCtrl.selectedItemChange(funcionario)" 
							 	md-items=" funcionario in listaFuncionario | filter : busca" 
							 	md-item-text="funcionario.nomeCompleto" 
							 	md-min-length="0" placeholder="busca Funcionário">
       							 <md-item-template>
          							<span md-highlight-text="busca" md-highlight-flags="^i">{{funcionario.nomeCompleto}}</span>
       							 </md-item-template>        								
     						 </md-autocomplete>
								
						</div>						
					</div>
						
					
					<br>
					<br>

					<div class="row">
						<label class="col-sm-2 control-label" for="ativo">Usuário Ativo</label>
						<div class="col-sm-2">
							<input type="checkbox" ng-model="userCtrl.usuario.ativo" >
						</div>
					</div>

					<br>
					<div class="row" >
						<div class="col-sm-6">
							<input type="text" class="form-control" id="nome" ng-model="userCtrl.usuario.nome" placeholder="Nome"
								title="Nome de usuario" maxlength="50"	required>
						</div>						
					
						<div class="col-sm-6">
							<input type="email" class="form-control" id="email" ng-model="userCtrl.usuario.email" placeholder="E-mail"
								title="Email de usuario, para acesso ao sistema"  maxlength="50"	>
						</div>
					</div>
					
					
					<br>
					<div class="row" >
						<div class="col-sm-2">
							<input type="text" class="form-control" id="nome" ng-model="userCtrl.usuario.login" ng-blur="userCtrl.existeLogin(userCtrl.usuario.login)" placeholder="Usuário"
								title="Nome de usuario" maxlength="15"	required>
						</div>						
					
	
						<div class="col-sm-2">
							<input type="password" class="form-control" id="senha" ng-model="userCtrl.senha" placeholder="Senha"
								title="Digite uma senha"maxlength="12" required>
						</div>
						<div class="col-sm-2">
							<input type="password" class="form-control" id="repitaSenha" ng-model="userCtrl.senhaRepitida" placeholder="Repita a Senha"
								title="repita a senha" required>
						</div>
						
					</div>
					<br> <br>
					
					<br> <br>		<div ng-show="visualizaAdmin">
									<h3>Modulo Administrador</h3>
									 <div flex="100" flex-gt-sm="100" layout="column"  ng-init="perfil()">
									      <div>        
									        <fieldset class="standard" >         
									          <div layout="row" layout-wrap flex>
									            <div flex="25" ng-repeat="admin in moduloAdmin">
									              <md-checkbox ng-checked="existeExclui(admin)" ng-click="permissao(admin)">
									                {{ admin.descricao }} 
									              </md-checkbox>
									            </div>
									          </div>
									        </fieldset>
									      </div>
									    </div>
									</div>
									 <br>		
									 <div ng-show="visualizaCadastros">
									<h3>Modulo Cadastros</h3>
									 <div flex="100" flex-gt-sm="100" layout="column"  >
									      <div>        
									        <fieldset class="standard" >         
									          <div layout="row" layout-wrap flex>
									            <div flex="25" ng-repeat="cadastros in moduloCadastros">
									              <md-checkbox ng-checked="existeExclui(cadastros)" ng-click="permissao(cadastros)">
									                {{ cadastros.descricao }} 
									              </md-checkbox>
									            </div>
									          </div>
									        </fieldset>
									      </div>
									    </div>
									    </div>
									     <br>	
									<div ng-show="visualizaChamado">	
									<h3>Modulo Chamado</h3>
									 <div flex="100" flex-gt-sm="100" layout="column"  >
									      <div>        
									        <fieldset class="standard" >         
									          <div layout="row" layout-wrap flex>
									            <div flex="25" ng-repeat="chamado in moduloChamado">
									              <md-checkbox ng-checked="existeExclui(chamado)" ng-click="permissao(chamado)">
									                {{ chamado.descricao }} 
									              </md-checkbox>
									            </div>
									          </div>
									        </fieldset>
									      </div>
									    </div>
									   </div>
									  <div ng-show="visualizaCompras"> 
									    <h3>Modulo Compras</h3>
									 <div flex="100" flex-gt-sm="100" layout="column"  >
									      <div>        
									        <fieldset class="standard" >         
									          <div layout="row" layout-wrap flex>
									            <div flex="25" ng-repeat="compras in moduloCompras">
									              <md-checkbox ng-checked="existeExclui(compras)" ng-click="permissao(compras)">
									                {{ compras.descricao }} 
									              </md-checkbox>
									            </div>
									          </div>
									        </fieldset>
									      </div>
									    </div>
									    </div>
									   <div ng-show="visualizaEstoque">
									    <h3>Modulo Estoque</h3>
									 <div flex="100" flex-gt-sm="100" layout="column"  >
									      <div>        
									        <fieldset class="standard" >         
									          <div layout="row" layout-wrap flex>
									            <div flex="25" ng-repeat="estoque in moduloEstoque">
									              <md-checkbox ng-checked="existeExclui(estoque)" ng-click="permissao(estoque)">
									                {{ estoque.descricao }} 
									              </md-checkbox>
									            </div>
									          </div>
									        </fieldset>
									      </div>
									    </div>
									    </div>
									    <div ng-show="visualizaGerenciamento">
									     <h3>Modulo Gerenciamento</h3>
									 <div flex="100" flex-gt-sm="100" layout="column"  >
									      <div>        
									        <fieldset class="standard" >         
									          <div layout="row" layout-wrap flex>
									            <div flex="25" ng-repeat="gerenciamento in moduloGerenciamento">
									              <md-checkbox ng-checked="existeExclui(gerenciamento)" ng-click="permissao(gerenciamento)">
									                {{ gerenciamento.descricao }} 
									              </md-checkbox>
									            </div>
									          </div>
									        </fieldset>
									      </div>
									    </div>
									    </div>
									<div ng-show="visualizaRecursosHumanos">
									    <h3>Modulo Recursos Humanos</h3>
									 <div flex="100" flex-gt-sm="100" layout="column"  >
									      <div>        
									        <fieldset class="standard" >         
									          <div layout="row" layout-wrap flex>
									            <div flex="25" ng-repeat="rh in moduloRecursosHumanos">
									              <md-checkbox ng-checked="existeExclui(rh)" ng-click="permissao(rh)">
									                {{ rh.descricao }} 
									              </md-checkbox>
									            </div>
									          </div>
									        </fieldset>
									      </div>
									    </div>
									    </div>
									 <div ng-show="visualizaServicos">
									     <h3>Modulo Servicos</h3>
									 <div flex="100" flex-gt-sm="100" layout="column"  >
									      <div>        
									        <fieldset class="standard" >         
									          <div layout="row" layout-wrap flex>
									            <div flex="25" ng-repeat="servicos in moduloServicos">
									              <md-checkbox ng-checked="existeExclui(servicos)" ng-click="permissao(servicos)">
									                {{ servicos.descricao }} 
									              </md-checkbox>
									            </div>
									          </div>
									        </fieldset>
									      </div>
									    </div>
									</div>
					<div class="row ">
						
							<button type="submit" name="submit" class="btn btn-lg btn-primary btn-block btn-signin">Cadastrar</button>
						</div>
						
					</div>
				</form>
				
			</div>
			<div class="tablecontainer"></div>
		</div>
	</div>