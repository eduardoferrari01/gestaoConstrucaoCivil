<meta charset="UTF-8">
<br>
<br>
<div 	ng-controller="estoqueController as estroqueCtrl">

	<div class="box box-primary" ng-init="estroqueCtrl.listaProdutosComEstoque()">
	
		<div class="box-header">
			<span class="lead">Estoque </span>
		</div>
		<div class="panel-body">
	<div class="row">
			
			
	
		</div>
		<div class="table-responsive">
			<table class="table  table-bordered ">
				<thead>
					<tr>
						 
						<th>
							<input type="text" class="form-control "  ng-model="buscarPorCodigo" ng-blur="estroqueCtrl.filtro(buscarPorCodigo)" placeholder="Código">
						</th>
						<th>
							<input type="text" class="form-control"  ng-model="buscarPorDescricao" ng-blur="estroqueCtrl.filtro(buscarPorDescricao)"  placeholder="Descrição">
						</th>
						<th>
							<div  ng-controller="categoriaController as categoriaCtrl" ng-init="categoriaCtrl.lista()">
								<select class="form-control " ng-model="buscarPorCategoria"  ng-click="estroqueCtrl.filtro(buscarPorCategoria)"
									ng-options="listaCategorias.descricao for listaCategorias in categoriaCtrl.categorias" 
									  style=" width: 100%;"   required >
										<option value="">Categoria</option>
								</select>
							</div>
						</th>
						<th>
							<div ng-controller="tipoProdutoController as tipoProdutoCtrl" ng-init="tipoProdutoCtrl.lista()">
								<select class="form-control " ng-model="buscaPorTipo" ng-click="estroqueCtrl.filtro(buscaPorTipo)"
									ng-options="listaTipoProdutos.descricao for listaTipoProdutos in tipoProdutoCtrl.listaTipoProduto" 
									  style=" width: 100%;" required >
									<option value="">Tipo</option>
								</select>
							</div>
						</th>
						<th>
							<div  ng-controller="unidadeMedidaController as unidadeCtrl" ng-init="unidadeCtrl.lista()">
								<select class="form-control " ng-model="buscaPorMedida" ng-click="estroqueCtrl.filtro(buscaPorMedida)"
									ng-options="listaunidadeMedidas for listaunidadeMedidas in unidadeCtrl.listaUnidadeMedida" 
									  style=" width: 100%;" required >
										<option value="">Unidade Medida</option>
								</select>
							</div>
						</th>
						<th>
							<div  ng-controller="fabricanteController as fabricanteCtrl" ng-init="fabricanteCtrl.lista()">
								<select class="form-control " ng-model="buscaPorFabricante"  ng-click="estroqueCtrl.filtro(buscaPorFabricante)"
									ng-options="listaFabricantes.dadoEmpresa.nomeFantasia for listaFabricantes in fabricanteCtrl.listaFabricante" 
								 	 style=" width: 100%;" required >
									<option value="">Fabricante</option>
								</select>
							</div>		
						</th>
						<th>quantidade Estoque</th>
						<th>Custo médio</th>
						<th>Valor Total</th>
					</tr>
				</thead>
				<tbody
					ng-repeat=" lista in estroqueCtrl.listaProdutosComEstoques | filter : buscar ">
					<tr>
						
						<td>{{lista.produto.codigo}}</td>
						<td>{{lista.produto.descricao}}</td>
						<td>{{lista.produto.categoria.descricao}}</td>
						<td>{{lista.produto.tipoProduto.descricao}}</td>
						<td>{{lista.produto.unidadeMedida}}</td><!-- 
						<td>{{lista.produto.fabricante.dadoEmpresa.nomeFantasia}}</td> -->
						<td>{{lista.quantidade}}</td>
						<td>{{lista.custoMedio | currency}}</td>
					    <td>{{lista.valorTotal | currency}}</td>
					
						<td><a href="#/estoque/alteracao/{{lista.produto.codigo}}"><i class="glyphicon glyphicon-pencil"></i></a> 
						
					</tr>

				</tbody>
				<tfoot>
				
					
				</tfoot>
			</table>
			</div>
		</div>
	</div>
</div>


